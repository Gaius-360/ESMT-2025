<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Mes absences</title>
  <link rel="stylesheet" href="absences.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>
<body>
  <div class="dashboard">
    
    <!-- Bouton menu mobile -->
    <button class="menu-toggle"><i class="fa-solid fa-bars"></i></button>

    <!-- Sidebar -->
    <aside class="sidebar">
      <h2>Espace Étudiant</h2>
      <nav>
        <button id="logoutBtn">Déconnexion</button>
        <ul>
          <li><a href="../dashboard/dashboard_protected.html"><i class="fa-solid fa-house"></i> Tableau de bord</a></li>
          <li><a href="../Profil/profil.html"><i class="fa-solid fa-user"></i> Profil</a></li>
          <li><a href="../Notes/notes.html"><i class="fa-solid fa-chart-line"></i> Notes</a></li>
          <li><a href="../Calendrier/calendrier.html"><i class="fa-solid fa-calendar"></i> Calendrier</a></li>
          <li class="active"><a href="../Absences/absences.html"><i class="fa-solid fa-user-clock"></i> Absences</a></li>
          <li><a href="../Releve/releve.html"><i class="fa-solid fa-file-lines"></i> Relevé de notes</a></li>
          <li><a href="../Etudiants_ESMT/etudiants_esmt.html"><i class="fa-solid fa-users"></i> Etudiants-ESMT</a></li>
          <li><a href="../Messages/messages.html"><i class="fa-solid fa-envelope"></i> Messages</a></li>
        </ul>
      </nav>
    </aside>

    <main class="container">
      <div class="logo"><img src="../logo/logo.png" alt="" style="width: 120px;margin-top: 10px;"></div>
      <!-- Header avec filtre et notifications -->
      <header class="header">
        <h1>Mes absences</h1>
        <div class="header-right">
          <div class="filters">
            <div>Semestre
              <select id="semestreSelect"></select>
            </div>
          </div>
        </div>
        <div class="notifications-container">
          <button id="notificationBtn" class="notification-btn">
            <i class="fa-solid fa-bell"></i>
            <span id="notificationCount" class="notification-count">0</span>
          </button>
          <!-- Dropdown notifications -->
          <div id="notificationDropdown" class="notification-dropdown">
            <ul id="notificationList"></ul>
          </div>
        </div>
      </header>

      <section id="erreur" class="error" style="display:none;"></section>

      <section class="card">
        <table class="table">
          <thead>
            <tr>
              <th>Date d’absence</th>
              <th>Heure début</th>
              <th>Heure fin</th>
              <th>Durée (h)</th>
              <th>Statut</th>
              <th>Date de justification</th>
              <th>Matières</th>
            </tr>
          </thead>
          <tbody id="tbodyAbsences"></tbody>
        </table>
      </section>
    </main>
  </div>

  <!-- Pied de page -->
<footer class="footer">
  <div class="footer-content">
    <p>&copy; 2025 ESMT - Tous droits réservés.</p>
    <div class="footer-links">
      <span class="footer-link" data-modal="about">À propos</span>
      <span class="footer-link" data-modal="privacy">Politique de confidentialité</span>
    </div>
  </div>
</footer>

<!-- Fenêtre modale - À propos -->
<div class="modal" id="modal-about">
  <div class="modal-content">
    <span class="close">&times;</span>
    <section class="about">
      <h2>À propos</h2>
      <p>
        Ce site est un projet académique développé pour la gestion estudiantine de l’ESMT. 
        Il permet à l'administrateur de gérer les étudiants, les notes, les emplois du temps, 
        les absences et les relevés, tout en offrant aux étudiants un espace personnel 
        pour consulter leurs informations.
      </p>
      <p>
        Développé par <strong>Gaïus KOUDOUGOU</strong>, ce projet a pour objectif de faciliter 
        la digitalisation et la transparence de la vie académique au sein de l’ESMT.
      </p>
    </section>
  </div>
</div>


<!-- Fenêtre modale - Politique de confidentialité -->
<div class="modal" id="modal-privacy">
  <div class="modal-content">
    <span class="close">&times;</span>
    <section class="privacy">
      <h2>Politique de confidentialité</h2>
      <p>
        La protection des données personnelles des étudiants et administrateurs est une 
        priorité. Toutes les informations collectées (identité, email, notes, 
        absences) sont utilisées uniquement dans le cadre de la gestion académique de l’ESMT.
      </p>
      <p>
        Aucune donnée ne sera partagée ou vendue à des tiers. 
        Seules les personnes autorisées (administrateurs) ont accès aux informations sensibles.
      </p>
      <p>
        Les utilisateurs peuvent demander la modification ou la suppression de leurs données 
        en contactant l’administrateur du système.
      </p>
      <p>
        En utilisant ce site, vous acceptez que vos données soient traitées conformément 
        à cette politique de confidentialité.
      </p>
    </section>
  </div>
</div>

  <!-- Scripts -->
  <script src="absences.js"></script>
  <script src="https://esmt-2025.onrender.com/socket.io/socket.io.js"></script>
  <script src="../notifications/notifications.js"></script>
</body>
</html>
